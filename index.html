<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>âœ¨ AI Summarizer</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#0e0f10;
    --panel:#141414;
    --muted:#2b2b2b;
    --accent:#3e8ef7;
    --accent-hover:#6baaff;
    --glass: rgba(255,255,255,0.06);
    --text:#e5e7eb;
  }

  * {
    box-sizing: border-box;
    max-width: 100%;     /* Prevent overflow */
  }

  html, body {
    margin:0;
    padding:0;
    width:100%;
    min-height:100dvh;
    overflow-x:hidden !important;
    background:var(--bg);
    color:var(--text);
    font-family:"Inter", sans-serif;
  }

  body {
    display:flex;
    flex-direction:row;
  }

  /* SIDEBAR */
  .sidebar {
    width:260px;
    min-width:260px;
    background:#171717;
    border-right:1px solid var(--muted);
    padding:18px;
    display:flex;
    flex-direction:column;
    gap:12px;
  }

  .sidebar-top {
    display:flex;
    justify-content:space-between;
    align-items:center;
  }

  .new-chat {
    background:#2a2a2a;
    padding:8px 10px;
    border-radius:8px;
    cursor:pointer;
    font-size:13px;
  }
  .new-chat:hover { background:#333; }

  #chatList {
    flex:1;
    overflow-y:auto;
    padding-top:10px;
  }

  .chat-item-wrapper { position:relative; margin-bottom:10px; }
  .chat-item {
    padding:12px 16px;
    background:#202020;
    border-radius:10px;
    cursor:pointer;
    font-size:13px;
  }
  .chat-item:hover { background:#2b2b2b; }

  .dots {
    position:absolute;
    top:12px;
    right:10px;
    opacity:0;
    cursor:pointer;
  }
  .chat-item-wrapper:hover .dots { opacity:1; }

  .menu {
    position:absolute;
    right:0;
    top:36px;
    background:#222;
    border:1px solid #333;
    width:150px;
    border-radius:8px;
    display:none;
    z-index:999;
  }
  .menu div {
    padding:10px;
    cursor:pointer;
    font-size:13px;
  }
  .menu div:hover { background:#333; }

  /* MAIN */
  .main {
    flex:1;
    display:flex;
    flex-direction:column;
    overflow:hidden;
  }

  .header {
    height:62px;
    padding:0 20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    background:var(--panel);
    border-bottom:1px solid var(--muted);
    font-weight:600;
  }

  .chat-wrapper {
    flex:1;
    padding:20px;
    overflow-y:auto;
    overflow-x:hidden !important;
    display:flex;
    flex-direction:column;
    gap:12px;
  }

  .chat {
    display:flex;
    gap:14px;
    align-items:flex-start;
    width:100%;
  }

  .avatar {
    width:44px;
    height:44px;
    border-radius:50%;
    background-size:cover;
    background-position:center;
    flex-shrink:0;
  }

  .user-avatar { background-image:url("https://cdn-icons-png.flaticon.com/512/847/847969.png"); }
  .ai-avatar { background-image:url("https://cdn.jsdelivr.net/gh/twitter/twemoji/assets/svg/1f916.svg"); }

  .bubble {
    padding:14px 18px;
    border-radius:14px;
    font-size:15px;
    line-height:1.6;
    word-wrap:break-word;
    overflow-wrap:break-word;
    max-width:75%;
  }

  .user-bubble {
    background:var(--accent);
    color:white;
    margin-left:auto;
    border-radius:14px 14px 4px 14px;
  }

  .ai-bubble {
    background:var(--glass);
    border:1px solid rgba(255,255,255,0.08);
  }

  /* INPUT AREA */
  .input-area {
    padding:14px;
    display:flex;
    align-items:center;
    gap:12px;
    background:var(--panel);
    border-top:1px solid var(--muted);
  }

  textarea {
    flex:1;
    min-height:54px;
    max-height:180px;
    resize:none;
    background:#1f1f1f;
    border:1px solid var(--muted);
    border-radius:10px;
    padding:12px;
    color:var(--text);
  }

  .select-wrapper {
    position:relative;
    width:150px;
    flex-shrink:0;
  }

  select {
    width:100%;
    padding:10px 34px 10px 10px;
    background:rgba(255,255,255,0.05);
    border:1px solid rgba(255,255,255,0.07);
    border-radius:10px;
    color:var(--text);
  }

  .select-wrapper::after {
    content:"â–¾";
    position:absolute;
    right:10px;
    top:50%;
    transform:translateY(-50%);
  }

  .controls {
    display:flex;
    align-items:center;
    gap:8px;
  }

  .action-btn {
    background:var(--accent);
    border:none;
    padding:10px 18px;
    border-radius:10px;
    color:white;
    font-weight:700;
  }

  .regen-btn {
    background:#2f2f2f;
    border:1px solid rgba(255,255,255,0.08);
    padding:10px 18px;
    border-radius:10px;
  }

  @media(max-width:900px){
    .sidebar { display:none; }
    body { flex-direction:column; }
    .chat-wrapper { padding:14px; }
    .select-wrapper { width:120px; }
  }
</style>
</head>

<body>

  <!-- SIDEBAR -->
  <div class="sidebar">
    <div class="sidebar-top">
      <h2>Chats</h2>
      <div class="new-chat" onclick="newChat()">+ New</div>
    </div>
    <div id="chatList"></div>
  </div>

  <!-- MAIN -->
  <div class="main">

    <div class="header">
      <span>âœ¨ AI Summarizer</span>
      <div onclick="shareChat()" style="cursor:pointer">ðŸ”— Share</div>
    </div>

    <div id="chatBox" class="chat-wrapper"></div>

    <div class="input-area">
      <textarea id="inputText" placeholder="Type something to summarize..."></textarea>

      <div class="select-wrapper">
        <select id="mode">
          <option value="concise">Concise</option>
          <option value="detailed">Detailed</option>
          <option value="bullet">Bullet Points</option>
          <option value="simple">Simple</option>
          <option value="professional">Professional</option>
        </select>
      </div>

      <div class="controls">
        <button class="action-btn" onclick="sendMsg()">Send</button>
        <button class="regen-btn" onclick="regenerate()">âŸ³</button>
      </div>
    </div>
  </div>

<script src="/summarize.js"></script>

</body>
</html>
